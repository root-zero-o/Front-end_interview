# 원시 타입 & 객체 타입 

## 원시 값
### 1. 변경 불가능한 값(immutable value)
#### 특징
- 원시 값은 변경 불가능한 값, 읽기 전용 값으로 ```변경할 수 없다```. 
- 이 때, 변경 불가능한 것은 변수가 아니라 ```값에 대한 진술```이다.
- 이러한 특성은 ```데이터의 신뢰성```을 보장한다.

#### 재할당

![화면 캡처 2022-07-27 162005](https://user-images.githubusercontent.com/97326130/181186129-cfa36aec-3fef-4552-83db-f9c4e0a22055.png)<br>
*이미지 출처 : 모던 자바스크립트 Deep Dive(이웅모 저)*

- 원시 값을 할당한 변수에 새로운 원시 값을 재할당하면, 재할당 이전의 원시 값을 변경하는 것이 아님 ! (원시 값은 변경 불가능한 값이기 때문)
- ```재할당 과정``` : 새로운 메모리 공간 확보 👉 재할당한 원시 값 저장 👉 변수는 새롭게 재할당한 원시 값을 가리킴
- 이러한 특성을 ```불변성(immutability)```이라 한다.
- 불변성을 갖는 원시 값을 할당한 변수는 재할당 이외에 변수 값을 변경할 수 있는 방법이 없다.

<br>

### 2. 문자열과 불변성

- 원시 값을 저장하려면 먼저 ```확보해야 하는 메모리 공간의 크기```를 결정해야 한다.
- 문자열 타입(2바이트)과 숫자 타입(8바이트) 이외의 원시 타입은 크기를 명확히 규정하고 있지 않다.
- 특히 문자열은 ```몇 개의 문자로 이뤄졌느냐```에 따라 필요한 메모리 공간의 크기가 결정된다.(1개의 문자 = 2바이트)
- 문자열은 유사 배열 객체이면서 이터러블이므로, 배열과 유사하게 각 문자에 접근할 수 있다.

#### 유사 배열 객체(array-like object)

```javascript
let str = "string"

console.log(str[0]);  // s
console.log(str.length);  // 6
console.log(str.toUpperCase());  // STRING
```

- 마치 배열처럼 인덱스로 프로퍼티 값에 접근할 수 있고, length 프로퍼티를 갖는 객체
- 문자열은 ```인덱스를 통해 각 문자에 접근```할 수 있고, ```length``` 프로퍼티를 가지며, ```for문```으로 순회할 수 있다.
- 원시 값을 객체처럼 사용하면 원시 값을 감싸는 ```래퍼 객체```로 자동 변환된다.

<br>

### 3. 값에 의한 전달
```javascript
let score = 80;
let copy = score;

console.log(score);  // 80
console.log(copy);  // 80

score = 100;

console.log(score);  // 100
console.log(copy);  // 80
```
- 변수에 원시 값을 갖는 변수를 할당하면, 할당받는 변수(copy)에는 할당되는 변수(score)의 ```원시 값이 복사되어 전달```된다.
- score 변수와 copy 변수의 값 80은 ```다른 메모리 공간에 저장된 별개의 값```이다.
- 따라서 두 변수의 원시 값은 서로 다른 메모리 공간에 저장된 별개의 값이 되어 어느 한쪽에서 재할당을 통해 값을 변경하더라도 ```서로 간섭할 수 없다```.

![화면 캡처 2022-07-27 163315](https://user-images.githubusercontent.com/97326130/181188711-6c397036-cd29-4160-9ec8-842fbbc65e29.png) <br>
*이미지 출처 : 모던 자바스크립트 Deep Dive(이웅모 저)*

-----

## 객체
### 1. 변경가능한 값
#### 특징

![화면 캡처 2022-07-27 164010](https://user-images.githubusercontent.com/97326130/181190149-99e3b8f3-ca9c-43b5-92b2-7bd8f211e4a6.png) <br>
*이미지 출처 : 모던 자바스크립트 Deep Dive(이웅모 저)*

- 객체는 ```변경 가능한 값(mutable value)```이다.
- 객체를 할당한 변수가 기억하는 메모리 주소를 통해 메모리 공간에 접근하면 참조 값에 접근할 수 있다.
- 객체를 할당한 변수는 ```재할당 없이 객체를 직접 변경```할 수 있다.(프로퍼티 동적 추가, 프로퍼티 값 갱신, 프로퍼티 삭제 가능)
- 메모리에 저장된 객체를 직접 수정할 수 있으나, ```객체를 할당한 변수의 참조 값은 변경되지 않는다```.
- 이 때, ```여러 개의 식별자가 하나의 객체를 공유```할 수 있다.

<br>

### 2. 참조에 의한 전달
```javascript
let person = {
  name : "Lee"
};

let copy = person
```

![화면 캡처 2022-07-27 164221](https://user-images.githubusercontent.com/97326130/181190577-82c3a4a0-e5b2-498b-bd37-3cb917d0dd38.png) <br>
*이미지 출처 : 모던 자바스크립트 Deep Dive(이웅모 저)*

- 원본 person을 사본 copy에 할당하면 원본 person의 참조 값을 복사해서 copy에 저장한다.
- 이 때, person과 copy는 모두 동일한 객체를 가리킨다.
- 즉, ```두 개의 식별자가 하나의 객체를 공유```한다.
- 어느 한 쪽에서 객체를 변경하면 서로 영향을 주고 받는다.

#### 값에 의한 전달 vs 참조에 의한 전달
- 값에 의한 전달과 참조에 의한 전달은 ```식별자가 기억하는 메모리 공간에 저장되어 있는 값을 복사해서 전달한다```는 면에서 동일하다.
- 변수에 저장되어 있는 값이 원시 값이냐 참조 값이냐의 차이만 있을 뿐이다.
- 따라서 자바스크립트에는 '참조에 의한 전달'은 존재하지 않고, ```'값에 의한 전달'만이 존재한다```고 말할 수 있다.

----

## 정리
| 원시 값 | 객체 |
|-----|-----|
| ```변경 불가능한 값(immutable value)``` | ```변경 가능한 값(mutable value)```|
| 변수에 할당하면 변수(확보된 메모리 공간)에 ```실제 값```이 저장된다. | 변수에 할당하면 변수(확보된 메모리 공간)에 ```참조 값```이 저장된다. |
| 다른 변수에 할당하면 원본의 ```원시 값```이 복사되어 전달된다.(```값에 의한 전달```) | 다른 변수에 할당하면 원본의 ```참조 값```이 복사되어 전달된다.(```참조에 의한 전달```)|

----

## 참고
- 모던 자바스크립트 Deep Dive(이웅모 저)


